# Daily arXiv Paper Reports API - User Manual

## Overview

This API service provides access to daily arXiv paper analysis reports generated by the automated research system. The service allows users to query paper reports within specified date ranges and retrieve detailed markdown-formatted analysis reports.

## Base URL

The API server runs on port 5000 by default. Access URLs:
- Local: `http://localhost:5000`
- Network: `http://[server_ip]:5000`

## API Endpoints

### 1. Get Paper Reports

**Endpoint:** `POST /api/paper-reports`

**Description:** Retrieve paper analysis reports for a specified date range.

**Request Body:**
```json
{
  "date_range": {
    "start_date": "20250916",
    "end_date": "20250917"
  }
}
```

**Request Parameters:**
- `start_date` (string, required): Start date in YYYYMMDD format
- `end_date` (string, required): End date in YYYYMMDD format

**Response Format:**
```json
{
  "code": 0,
  "message": "success",
  "data": [
    {
      "title": "Paper Title",
      "authors": ["Author 1", "Author 2"],
      "categories": ["cs.AI", "cs.LG"],
      "timestamp": "20250916T0000",
      "pdf_url": "https://arxiv.org/pdf/2509.13311v1.pdf",
      "report": "### Paper Title\n**Signal Source:** Institution\n\n**One-sentence Summary**\n[Summary content...]\n\n**Core Innovation**\n[Innovation details...]\n\n**Technical Highlights**\n[Technical details...]\n\n**Research Impact**\n[Impact analysis...]\n\n**Key Insights**\n[Key insights...]"
    }
  ]
}
```

**Response Fields:**
- `code` (integer): Status code (0 = success, 1 = error)
- `message` (string): Status message or error description
- `data` (array): Array of paper report objects
  - `title` (string): Paper title (extracted from metadata)
  - `authors` (array): List of authors (extracted from arXiv metadata)
  - `categories` (array): arXiv categories (extracted from arXiv metadata)
  - `timestamp` (string): Processing timestamp in YYYYMMDDTHHMM format
  - `pdf_url` (string): Direct link to arXiv PDF (extracted from metadata)
  - `report` (string): Full markdown-formatted analysis report

### 2. Health Check

**Endpoint:** `GET /api/health`

**Description:** Check if the API server is running.

**Response:**
```json
{
  "code": 0,
  "message": "API server is running",
  "data": {
    "status": "healthy",
    "timestamp": "2025-01-16T10:30:00.123456"
  }
}
```

### 3. Processing Status

**Endpoint:** `GET /api/status`

**Description:** Get the current processing status of the daily arXiv system.

**Response:**
```json
{
  "code": 0,
  "message": "success",
  "data": {
    "2025-01-16": {
      "status": "completed",
      "started_at": "2025-01-16T08:00:00",
      "completed_at": "2025-01-16T08:45:00",
      "result_file": "daily_result_2025-01-16.json"
    }
  }
}
```

## Error Handling

### Common Error Responses

**Invalid Date Format:**
```json
{
  "code": 1,
  "message": "Invalid date format: time data '2025-13-45' does not match format '%Y%m%d'. Expected format: YYYYMMDD",
  "data": []
}
```

**Invalid Date Range:**
```json
{
  "code": 0,
  "message": "Invalid date range: start_date cannot be later than end_date",
  "data": []
}
```

**No Reports Found:**
```json
{
  "code": 0,
  "message": "No paper reports found for date range 20250916 to 20250917. This could be because: 1) No papers were processed for these dates, 2) The daily arXiv processing has not run yet, or 3) The reports are still being generated.",
  "data": []
}
```

**Missing Request Body:**
```json
{
  "code": 1,
  "message": "Request body is required",
  "data": []
}
```

## Usage Examples

### Python Example

```python
import requests
import json

# API endpoint
url = "http://localhost:5000/api/paper-reports"

# Request data
data = {
    "date_range": {
        "start_date": "20250916",
        "end_date": "20250917"
    }
}

# Make request
response = requests.post(url, json=data)

# Check response
if response.status_code == 200:
    result = response.json()
    
    if result["code"] == 0:
        print(f"Success: {result['message']}")
        print(f"Found {len(result['data'])} papers")
        
        for paper in result["data"]:
            print(f"\nTitle: {paper['title']}")
            print(f"Authors: {', '.join(paper['authors'])}")
            print(f"Categories: {', '.join(paper['categories'])}")
            print(f"PDF URL: {paper['pdf_url']}")
            print(f"Report Preview: {paper['report'][:200]}...")
    else:
        print(f"Error: {result['message']}")
else:
    print(f"HTTP Error: {response.status_code}")
```

### cURL Example

```bash
# Basic request
curl -X POST http://localhost:5000/api/paper-reports \
  -H "Content-Type: application/json" \
  -d '{
    "date_range": {
      "start_date": "20250916",
      "end_date": "20250917"
    }
  }'

# Pretty-printed response
curl -X POST http://localhost:5000/api/paper-reports \
  -H "Content-Type: application/json" \
  -d '{
    "date_range": {
      "start_date": "20250916",
      "end_date": "20250917"
    }
  }' | python -m json.tool

# Health check
curl -X GET http://localhost:5000/api/health

# Status check
curl -X GET http://localhost:5000/api/status
```

### JavaScript/Node.js Example

```javascript
const axios = require('axios');

async function getPaperReports(startDate, endDate) {
    try {
        const response = await axios.post('http://localhost:5000/api/paper-reports', {
            date_range: {
                start_date: startDate,
                end_date: endDate
            }
        });
        
        const result = response.data;
        
        if (result.code === 0) {
            console.log(`Success: ${result.message}`);
            console.log(`Found ${result.data.length} papers`);
            
            result.data.forEach(paper => {
                console.log(`\nTitle: ${paper.title}`);
                console.log(`Authors: ${paper.authors.join(', ')}`);
                console.log(`Categories: ${paper.categories.join(', ')}`);
                console.log(`PDF URL: ${paper.pdf_url}`);
            });
        } else {
            console.log(`Error: ${result.message}`);
        }
    } catch (error) {
        console.error('Request failed:', error.message);
    }
}

// Usage
getPaperReports('20250916', '20250917');
```

## Report Content Structure

The `report` field contains a markdown-formatted analysis with the following structure:

```markdown
### [Paper Title]
**Signal Source:** [Institution]

**One-sentence Summary**
[Concise summary of the paper's core contribution]

**Core Innovation**
[Detailed description of the main innovation]

**Technical Highlights**
[Key technical aspects and methodologies]

**Research Impact**
[Analysis of potential impact on the field]

**Key Insights**
[Important takeaways and implications]
```

## Notes

1. **Date Format**: All dates must be in YYYYMMDD format (e.g., "20250916" for September 16, 2025).

2. **Report Availability**: Reports are only available for dates when the daily arXiv processing has completed successfully.

3. **Processing Time**: The daily processing typically runs in the morning and may take 30-60 minutes to complete.

4. **Rate Limiting**: Currently no rate limiting is implemented, but please use the API responsibly.

5. **Data Freshness**: Reports are generated daily and may not be immediately available for the current date.

## Support

For technical support or questions about the API, please contact the system administrator or check the server logs for detailed error information.
